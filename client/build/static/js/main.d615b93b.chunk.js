(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{49:function(e,t,n){},50:function(e,t,n){},72:function(e,t,n){},75:function(e,t,n){"use strict";n.r(t),t.default="data:image/png;base64,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"},78:function(e,t,n){"use strict";n.r(t);var r,a,c,o,i,s,l,u,b=n(0),d=n(12),j=n.n(d),p=(n(49),n(2)),h=n(4),g=(n(50),n(5)),f=n(3),O=n.n(f),x=n(6),y=g.a.div(r||(r=Object(h.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-top: 10px;\n"]))),m=g.a.form(a||(a=Object(h.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  box-shadow: 0px 0px 2.5px rgba(15, 15, 15, 0.19);\n"]))),v=g.a.a(c||(c=Object(h.a)(["\n  font-size: 11px;\n  color: rgba(200, 200, 200, 0.8);\n  font-weight: 500;\n  text-decoration: none;\n"]))),k=g.a.a(o||(o=Object(h.a)(["\n  font-size: 11px;\n  color: rgb(70, 64, 253);\n  font-weight: 500;\n  text-decoration: none;\n  margin: 0 4px;\n"]))),w=g.a.input(i||(i=Object(h.a)(["\n  width: 100%;\n  height: 42px;\n  outline: none;\n  border: 1px solid rgba(200, 200, 200, 0.3);\n  padding: 0px 10px;\n  border-bottom: 1.4px solid transparent;\n  transition: all 200ms ease-in-out;\n  font-size: 12px;\n\n  &::placeholder {\n    color: rgba(200, 200, 200, 1);\n  }\n\n  &:not(:last-of-type) {\n    border-bottom: 1.5px solid rgba(200, 200, 200, 0.4);\n  }\n\n  &:focus {\n    outline: none;\n    border-bottom: 2px solid rgb(241, 196, 15);\n  }\n"]))),A=g.a.button(s||(s=Object(h.a)(["\n  width: 100%;\n  padding: 9px 20%;\n  color: #fff;\n  font-size: 13px;\n  font-weight: 600;\n  border: none;\n  border-radius: 100px 100px 100px 100px;\n  cursor: pointer;\n  transition: all, 240ms ease-in-out;\n  background: ",";\n  background: linear-gradient(\n    58deg,\n    ",",\n    ","\n  );\n\n  &:hover {\n    filter: brightness(1.03);\n  }\n"])),(function(e){return e.enabled?"enabledrgb(70, 64, 253)":"enabledrgb(150, 64, 253)"}),(function(e){return e.enabled?"rgba(70, 64, 253, 1) 20%":"rgba(150, 64, 253, 1) 20%"}),(function(e){return e.enabled?"rgba(70, 64, 253, 1) 100%":"rgba(150, 64, 253, 1) 100%"})),S=n(14),C=n(1),P=g.a.span(l||(l=Object(h.a)(["\n  display: flex;\n  width: ",";\n"])),(function(e){var t=e.margin;return"string"===typeof t?t:"".concat(t,"px")})),T=g.a.span(u||(u=Object(h.a)(["\n  display: flex;\n  height: ",";\n"])),(function(e){var t=e.margin;return"string"===typeof t?t:"".concat(t,"px")}));function B(e){return"horizontal"===e.direction?Object(C.jsx)(P,Object(S.a)({},e)):Object(C.jsx)(T,Object(S.a)({},e))}B.defaultProps={direction:"horizontal"};var N=B,E=Object(b.createContext)(),D=n(10),z=n(7),R=n.n(z),L=Object(b.createContext)(),I=n(9),U="https://parkitackend.herokuapp.com";var H=function(e){var t=Object(b.useState)(""),n=Object(p.a)(t,2),r=n[0],a=n[1],c=Object(b.useState)(""),o=Object(p.a)(c,2),i=o[0],s=o[1],l=Object(b.useState)(!1),u=Object(p.a)(l,2),d=u[0],j=u[1],h=Object(b.useContext)(E),g=h.switchToSignup,f=h.switchToOTP,S=Object(b.useContext)(L).authUpdate,P=function(){return I.b.success("Login Successful !")},T=function(){return I.b.error("Email ID not present! Please sign up")},B=function(){return I.b.error("Password Incorrect!")};function z(){return(z=Object(x.a)(O.a.mark((function e(t){var n,c,o;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d){e.next=2;break}return e.abrupt("return");case 2:return console.log("Email: ".concat(r,", Password: ").concat(i)),n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r,password:i})},e.next=6,fetch("".concat(U,"/auth/sign_in"),n);case 6:if(c=e.sent,console.log(c.status),200!==c.status){e.next=24;break}return P(),e.next=12,c.json();case 12:return o=e.sent,console.log(o),R.a.set("email",o.email),R.a.set("user_id",o._id),R.a.set("name",o.firstName+" "+o.lastName),a(""),s(""),t(!0),Object(D.navigate)("/map",!0),e.abrupt("return",!0);case 24:598===c.status?T():599===c.status&&B();case 25:return t(!1),e.abrupt("return",!1);case 27:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(C.jsxs)(y,{children:[Object(C.jsxs)(m,{children:[Object(C.jsx)(w,{value:r,type:"email",placeholder:"Email",onChange:function(e){var t=e.target.value;a(t),j(i.length>0&&t.length>0)}}),Object(C.jsx)(w,{value:i,type:"password",placeholder:"Password",onChange:function(e){var t=e.target.value;s(t),j(r.length>0&&t.length>0)}})]}),Object(C.jsx)(N,{direction:"vertical",margin:10}),Object(C.jsx)(v,{href:"#",children:"Forget your password?"}),Object(C.jsx)(N,{direction:"vertical",margin:"1.6em"}),Object(C.jsx)(A,{enabled:d,type:"submit",onClick:function(){return function(e){return z.apply(this,arguments)}(S)},children:"Sign In"}),Object(C.jsx)(N,{direction:"vertical",margin:"1em"}),Object(C.jsxs)(v,{href:"#",children:["Login using "," ",Object(C.jsx)(k,{href:"#",onClick:f,children:"OTP"})]}),Object(C.jsxs)(v,{href:"#",children:["Don't have an account?"," ",Object(C.jsx)(k,{href:"#",onClick:g,children:"Signup"})]})]})},M=n(80),Y="https://parkitackend.herokuapp.com";var F=function(){var e=Object(b.useState)(""),t=Object(p.a)(e,2),n=t[0],r=t[1],a=Object(b.useState)(""),c=Object(p.a)(a,2),o=c[0],i=c[1],s=Object(b.useState)(""),l=Object(p.a)(s,2),u=l[0],d=l[1],j=Object(b.useState)(""),h=Object(p.a)(j,2),g=h[0],f=h[1],S=Object(b.useState)(""),P=Object(p.a)(S,2),T=P[0],B=P[1],D=Object(b.useState)(!1),z=Object(p.a)(D,2),R=z[0],L=z[1],I=Object(b.useContext)(E).switchToSignin;function U(){return(U=Object(x.a)(O.a.mark((function e(){var t,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(R){e.next=2;break}return e.abrupt("return");case 2:return console.log("FirstName: ".concat(n,",LastName: ").concat(o,", Email: ").concat(u,", Password: ").concat(g)),t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstName:n,lastName:o,email:u,password:g,confirmPassword:T})},e.next=6,fetch("".concat(Y,"/auth/sign_up"),t);case 6:a=e.sent,console.log(a.status),console.log(a.body),200===a.status&&(r(""),i(""),d(""),f(""),B(""));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(C.jsxs)(y,{children:[Object(C.jsxs)(m,{children:[Object(C.jsx)(w,{value:n,type:"text",placeholder:"First Name",onChange:function(e){var t=e.target.value;r(t),L(g.length>0&&o.length>0&&u.length>0&&T.length>0&&t.length>0)}}),Object(C.jsx)(w,{value:o,type:"text",placeholder:"Last Name",onChange:function(e){var t=e.target.value;i(t),L(g.length>0&&n.length>0&&u.length>0&&T.length>0&&t.length>0)}}),Object(C.jsx)(w,{value:u,type:"email",placeholder:"Email",onChange:function(e){var t=e.target.value;d(t),L(g.length>0&&n.length>0&&o.length>0&&T.length>0&&t.length>0)}}),Object(C.jsx)(w,{value:g,type:"password",placeholder:"Password",onChange:function(e){var t=e.target.value;f(t),L(n.length>0&&o.length>0&&u.length>0&&T.length>0&&t.length>0)}}),Object(C.jsx)(w,{value:T,type:"password",placeholder:"Confirm Password",onChange:function(e){var t=e.target.value;B(t),L(g.length>0&&n.length>0&&o.length>0&&u.length>0&&t.length>0)}})]}),Object(C.jsx)(N,{direction:"vertical",margin:10}),Object(C.jsx)(A,{enabled:R,type:"submit",onClick:function(){return U.apply(this,arguments)},children:"Sign up"}),Object(C.jsx)(N,{direction:"vertical",margin:"1em"}),Object(C.jsxs)(v,{href:"#",children:["Already have an account?",Object(C.jsx)(k,{href:"#",onClick:I,children:"Signin"})]})]})},J=n(26),Q="https://parkitackend.herokuapp.com";var q,K,Z,G,V,X,W,_=function(){var e=Object(b.useState)(""),t=Object(p.a)(e,2),n=t[0],r=t[1],a=Object(b.useState)(""),c=Object(p.a)(a,2),o=c[0],i=c[1],s=Object(b.useState)(!1),l=Object(p.a)(s,2),u=l[0],d=l[1],j=Object(b.useState)("send"),h=Object(p.a)(j,2),g=h[0],f=h[1],S=Object(b.useState)(""),P=Object(p.a)(S,2),T=P[0],B=P[1];function D(){return(D=Object(x.a)(O.a.mark((function e(){var t,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u){e.next=2;break}return e.abrupt("return");case 2:return console.log("Country Code: ".concat(n,", Number: ").concat(o)),t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({countryCode:n,number:o})},e.next=6,fetch("".concat(Q,"/auth/otp/send"),t);case 6:a=e.sent,console.log(a.status),200===a.status&&(r(""),i(""),f("verify"));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(){return(z=Object(x.a)(O.a.mark((function e(){var t,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Code: ".concat(T)),t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:T})},e.next=4,fetch("".concat(Q,"/auth/otp/verify"),t);case 4:n=e.sent,console.log(n.status),200===n.status&&(B(""),this.props.history.push("/map"));case 7:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}var R=Object(J.useContext)(E),L=R.switchToSignin,I=R.switchToSignUp;return Object(C.jsxs)(y,{children:["send"===g&&Object(C.jsxs)(m,{children:[Object(C.jsx)(w,{value:n,type:"country",placeholder:"Country Code",onChange:function(e){var t=e.target.value;console.log("Country code changed: ${val}"),r(t),d(t.length>0&&o.length>0)}}),Object(C.jsx)(w,{value:o,type:"number",placeholder:"Number",onChange:function(e){var t=e.target.value;i(t),d(t.length>0&&n.length>0)}})]}),"verify"===g&&Object(C.jsx)(m,{children:Object(C.jsx)(w,{value:T,type:"code",placeholder:"OTP Received",onChange:function(e){var t=e.target.value;console.log(t),B(t),d(t.length>0)}})}),Object(C.jsx)(N,{direction:"vertical",margin:10}),Object(C.jsx)(v,{href:"#",children:"Forgot your password?"}),Object(C.jsx)(N,{direction:"vertical",margin:"1.6em"}),"send"===g&&Object(C.jsx)(A,{enabled:u,type:"sendOTP",onClick:function(){return D.apply(this,arguments)},children:"Send OTP"}),"verify"===g&&Object(C.jsx)(A,{enabled:!0,type:"verifyOTP",onClick:function(){return z.apply(this,arguments)},children:"Verify OTP"}),Object(C.jsx)(N,{direction:"vertical",margin:"1em"}),Object(C.jsxs)(v,{href:"#",children:["Return"," ",Object(C.jsx)(k,{href:"#",onClick:L,children:"Signin"})]}),Object(C.jsxs)(v,{href:"#",children:["Don't have an account?"," ",Object(C.jsx)(k,{href:"#",onClick:I,children:"Sign up"})]})]})},$=g.a.div(q||(q=Object(h.a)(["\n  width: 280px;\n  height: 75%;\n  display: flex;\n  flex-direction: column;\n  border-radius: 19px;\n  background-color: rgba(0,0,0,0.4);\n  backdrop-filter: blur(8.0px);\n  -webkit-backdrop-filter: blur(8.0px);\n  box-shadow: 0 0 2px rgba(15, 15, 15, 0.28);\n  position: relative;\n  overflow: hidden;\n"]))),ee=g.a.div(K||(K=Object(h.a)(["\n  width: 100%;\n  height: 250px;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n  padding: 0 1.8em;\n  padding-bottom: 5em;\n"]))),te=Object(g.a)(M.a.div)(Z||(Z=Object(h.a)(["\n  width: 160%;\n  height: 550px;\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n  border-radius: 50%;\n  transform: rotate(60deg);\n  top: -290px;\n  left: -70px;\n  background: rgba(70, 64, 253, 0.6);\n  background: linear-gradient(\n    58deg,\n    rgba(70, 64, 253, 1) 20%,\n    rgba(70, 64, 250, 1) 100%\n  );\n"]))),ne=g.a.div(G||(G=Object(h.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n"]))),re=g.a.h2(V||(V=Object(h.a)(["\n  font-size: 30px;\n  font-weight: 600;\n  line-height: 1.24;\n  color: #fff;\n  z-index: 10;\n  margin: 0;\n"]))),ae=g.a.h5(X||(X=Object(h.a)(["\n  color: #fff;\n  font-weight: 500;\n  font-size: 11px;\n  z-index: 10;\n  margin: 0;\n  margin-top: 7px;\n"]))),ce=g.a.div(W||(W=Object(h.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  padding: 0 1.8em;\n"])));var oe,ie=function(){var e=Object(b.useState)(!1),t=Object(p.a)(e,2),n=t[0],r=t[1],a=Object(b.useState)("signin"),c=Object(p.a)(a,2),o=c[0],i=c[1],s={type:"spring",duration:2.3,stiffness:30};function l(){r(!0),setTimeout((function(){r(!1)}),1e3*s.duration-1500)}function u(){l(),setTimeout((function(){i("signup")}),400)}function d(){l(),setTimeout((function(){i("signin")}),400)}function j(){l(),setTimeout((function(){i("otp")}),400)}Object(b.useEffect)((function(){"signup"===o?u():"signin"===o?d():"otp"===o&&j()}),[o]);var h={switchToSignin:d,switchToSignup:u,switchToOTP:j};return Object(C.jsx)(E.Provider,{value:h,children:Object(C.jsxs)($,{children:[Object(C.jsxs)(ee,{children:[Object(C.jsx)(te,{initial:!1,animate:n?"expanded":"collapsed",variants:{expanded:{width:"233%",height:"180%",borderRadius:"20%",transform:"rotate(60deg)"},collapsed:{width:"160%",height:"95%",borderRadius:"50%",transform:"rotate(60deg)"}},transition:s}),"signin"===o&&Object(C.jsxs)(ne,{children:[Object(C.jsx)(re,{children:"Welcome"}),Object(C.jsx)(re,{children:"Back"}),Object(C.jsx)(ae,{children:"Please sign-in to continue!"})]}),"signup"===o&&Object(C.jsxs)(ne,{children:[Object(C.jsx)(re,{children:"Create"}),Object(C.jsx)(re,{children:"Account"}),Object(C.jsx)(ae,{children:"Please sign-up to continue!"})]}),"otp"===o&&Object(C.jsxs)(ne,{children:[Object(C.jsx)(re,{children:"Welcome"}),Object(C.jsx)(re,{children:"Back"}),Object(C.jsx)(ae,{children:"Enter your number to continue!"})]})]}),Object(C.jsxs)(ce,{children:["signin"===o&&Object(C.jsx)(H,{}),"signup"===o&&Object(C.jsx)(F,{}),"otp"===o&&Object(C.jsx)(_,{})]})]})})},se=n(43),le=n(20),ue=[{featureType:"water",elementType:"geometry",stylers:[{color:"#004358"}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#1f8a70"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#1f8a70"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#fd7400"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#1f8a70"},{lightness:-20}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#1f8a70"},{lightness:-17}]},{elementType:"labels.text.stroke",stylers:[{color:"#ffffff"},{visibility:"on"},{weight:.9}]},{elementType:"labels.text.fill",stylers:[{visibility:"on"},{color:"#ffffff"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"simplified"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#1f8a70"},{lightness:-10}]},{},{featureType:"administrative",elementType:"geometry",stylers:[{color:"#1f8a70"},{weight:.7}]}],be=g.a.button(oe||(oe=Object(h.a)(["\n width: 100%;\n left: 50%;\n padding: 8px 30%;\n color: #fff;\n font-size: 15px;\n font-weight: 600;\n border: none;\n border-radius: 100px 50px 100px 50px;\n cursor: pointer;\n transition: all, 240ms ease-in-out;\n background: ",";\n background: linear-gradient(\n   58deg,\n   ",",\n   ","\n );\n \n &:hover {\n   filter: brightness(1.03);\n }\n"])),(function(e){return e.enabled?"enabledrgb(70, 64, 253)":"enabledrgb(150, 64, 253)"}),(function(e){return e.enabled?"rgba(70, 64, 253, 1) 20%":"rgba(150, 64, 253, 1) 20%"}),(function(e){return e.enabled?"rgba(70, 64, 253, 1) 100%":"rgba(150, 64, 253, 1) 100%"})),de=n(16),je=n.n(de),pe=(n(72),function(e){return"object"===typeof e&&null!==e}),he=(n(73),n(44)),ge=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_BACKEND:"https://parkitackend.herokuapp.com",REACT_APP_GOOGLE_MAP_KEY_PAID:"AIzaSyBEJIf4a4qUVKUQpBrFv--LTUtqUfv4RlA",REACT_APP_GOOGLE_MAP_KEY_FREE:"AIzaSyAyesbQMyKVVbBgKVi2g6VX7mop2z96jBo"}),fe=ge.REACT_APP_GOOGLE_MAP_KEY_PAID,Oe=ge.REACT_APP_API_BACKEND,xe=["places"];function ye(e){var t=Object(b.useState)(null),r=Object(p.a)(t,2),a=r[0],c=r[1],o=Object(b.useState)(-1),i=Object(p.a)(o,2),s=i[0],l=i[1],u=Object(b.useState)(-1),d=Object(p.a)(u,2),j=d[0],h=d[1],g=Object(b.useState)([]),f=Object(p.a)(g,2),y=f[0],m=f[1],v=Object(b.useState)(null),k=Object(p.a)(v,2),w=k[0],A=k[1],P=Object(b.useState)({lat:22.572645,lng:88.363892}),T=Object(p.a)(P,2),B=T[0],N=T[1],E=Object(b.useState)(""),z=Object(p.a)(E,2),R=z[0],L=z[1],U=!1,H=!1,M=new Map,Y=Object(b.useCallback)((function(e){A(e),console.log(e.zoom)}),[]),F=Object(b.useCallback)((function(e){A(null)}),[]),J=Object(b.useCallback)(function(){var e=Object(x.a)(O.a.mark((function e(t,n){var r,a,c,o,i,s,l;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(U){e.next=19;break}return U=!0,r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({latitude:t,longitude:n})},console.log(r),e.next=6,fetch("".concat(Oe,"/map/nearby_coordinates"),r);case 6:if(200!==(a=e.sent).status){e.next=18;break}return e.next=10,a.json();case 10:c=e.sent.parking_lots,console.log(c),M.clear(),c.forEach((function(e){M.set(e.place_id,e)})),o=[],i=Object(se.a)(M.values());try{for(i.s();!(s=i.n()).done;)l=s.value,o.push(l)}catch(u){i.e(u)}finally{i.f()}m(o);case 18:U=!1;case 19:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[]);function Q(e){return q.apply(this,arguments)}function q(){return(q=Object(x.a)(O.a.mark((function e(t){var n,r,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(H){e.next=13;break}return n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({place_id:t})},console.log(n),e.next=5,fetch("".concat(Oe,"/map/get_live_status"),n);case 5:if(200!==(r=e.sent).status){e.next=12;break}return e.next=9,r.json();case 9:return a=e.sent,console.log(a),e.abrupt("return",a);case 12:H=!1;case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(){return(K=Object(x.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=w.getCenter(),N({lat:t.lat(),lng:t.lng()}),console.log(t.lat(),t.lng()),e.next=5,J(t.lat(),t.lng());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(){return(Z=Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(a),s<j?Object(D.navigate)("/booking",!1,{selectedPark:a}):I.b.error("Oops!!! No space available in this parking lot!");case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var G=function(){var e=Object(x.a)(O.a.mark((function e(t){var n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(de.geocodeByAddress)(t);case 2:return n=e.sent,e.next=5,Object(de.getLatLng)(n[0]);case 5:return r=e.sent,L(t),N(r),e.next=10,J(r.lat,r.lng);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=Object(le.d)({id:"google-map-script",googleMapsApiKey:fe,libraries:xe}).isLoaded;return Object(b.useEffect)((function(){J(22.572645,88.363892)}),[J]),V?Object(C.jsx)("div",{children:Object(C.jsxs)(le.a,{mapContainerStyle:{width:"100vw",height:"100vh"},center:B,zoom:14,onLoad:Y,onUnmount:F,options:{styles:ue},onDragEnd:function(){return K.apply(this,arguments)},children:[y.map((function(e){return Object(C.jsx)(le.c,{position:{lat:e.latitude,lng:e.longitude},onClick:Object(x.a)(O.a.mark((function t(){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Q(e.place_id);case 2:n=t.sent,c(e),l(n.CAP),h(n.TPS);case 6:case"end":return t.stop()}}),t)})))},e.latitude+" "+e.longitude)})),a&&Object(C.jsx)(le.b,{position:{lat:a.latitude,lng:a.longitude},onCloseClick:function(){c(null)},children:Object(C.jsxs)("div",{children:[Object(C.jsx)("h4",{children:a.name}),Object(C.jsxs)("p",{children:["Current status: ",s," / ",j]}),Object(C.jsx)(be,{type:"submit",onClick:function(){return Z.apply(this,arguments)},children:"BOOK"})]})}),Object(C.jsx)(he.a,{children:(console.log("HERE!"),Object(C.jsx)(je.a,{onChange:L,value:R,onSelect:G,shouldFetchSuggestions:R.length>2,children:function(e){var t=e.getInputProps,r=e.suggestions,a=e.getSuggestionItemProps;return Object(C.jsxs)("div",{className:"Demo__search-bar-container",children:[Object(C.jsx)("div",{className:"Demo__search-input-container",children:Object(C.jsx)("input",Object(S.a)({},t({placeholder:"Type Address...",className:"Demo__search-input"})))}),r.length>0&&Object(C.jsxs)("div",{className:"Demo__autocomplete-container",children:[r.map((function(e){var t=function(){for(var e=[],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){if("string"===typeof t)e.push(t);else{if(!pe(t))throw new Error("`classnames` only accepts string or object as arguments");Object.keys(t).forEach((function(n){t[n]&&e.push(n)}))}})),e.join(" ")}("Demo__suggestion-item",{"Demo__suggestion-item--active":e.active});return Object(C.jsxs)("div",Object(S.a)(Object(S.a)({},a(e,{className:t})),{},{children:[Object(C.jsx)("strong",{children:e.formattedSuggestion.mainText})," ",Object(C.jsx)("small",{children:e.formattedSuggestion.secondaryText})]}))})),Object(C.jsx)("div",{className:"Demo__dropdown-footer",children:Object(C.jsx)("div",{children:Object(C.jsx)("img",{src:n(75),className:"Demo__dropdown-footer-image"})})})]})]})}}))})]})}):Object(C.jsx)(C.Fragment,{})}var me,ve,ke,we,Ae=Object(b.memo)(ye),Se=g.a.table(me||(me=Object(h.a)(["\n        width: 80%;\n        margin: 30px auto;\n        border-collapse: collapse;\n"]))),Ce=g.a.th(ve||(ve=Object(h.a)(["\nbackground-color: #4CAF50;\ncolor: white;\n"]))),Pe=g.a.td(ke||(ke=Object(h.a)(["\nheight: 50px;\nvertical-align:center;\ncolor: white;\ntext-align: center;     \n"]))),Te=g.a.tr(we||(we=Object(h.a)(["\nborder: 5px solid #900;\n"]))),Be="https://parkitackend.herokuapp.com";var Ne,Ee,De,ze,Re,Le,Ie,Ue,He=function(e){var t=Object(D.useQueryParams)(),n=Object(p.a)(t,1)[0],r=Object(b.useState)(!1),a=Object(p.a)(r,2),c=(a[0],a[1],Object(b.useState)("")),o=Object(p.a)(c,2),i=o[0],s=o[1],l=Object(b.useState)(0),u=Object(p.a)(l,2),d=u[0],j=u[1],h=Object(b.useState)(0),g=Object(p.a)(h,2),f=g[0],y=g[1],m=Object(b.useState)(""),v=Object(p.a)(m,2),k=v[0],w=v[1],A=Object(b.useState)(0),S=Object(p.a)(A,2),P=S[0],T=S[1],B=Object(b.useState)(null),N=Object(p.a)(B,2),E=N[0],z=(N[1],n.selectedPark),L=z.place_id,U=z.name,H=z.rate_per_hour,M=!1,Y=Object(b.useCallback)(Object(x.a)(O.a.mark((function e(){var t,n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(M){e.next=16;break}return t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({place_id:L})},console.log(t),e.next=5,fetch("".concat(Be,"/map/get_live_status"),t);case 5:if(n=e.sent,console.log("status"),console.log(n),200!==n.status){e.next=15;break}return e.next=11,n.json();case 11:r=e.sent,console.log(r),j(r.CAP),y(r.TPS);case 15:M=!1;case 16:case"end":return e.stop()}}),e)}))),[]);function F(e){return new Promise((function(t){var n=document.createElement("script");n.src=e,n.onload=function(){t(!0)},n.onerror=function(){t(!1)},document.body.appendChild(n)}))}function J(){return(J=Object(x.a)(O.a.mark((function e(){var t,n,r,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F("https://checkout.razorpay.com/v1/checkout.js");case 2:if(e.sent){e.next=6;break}return alert("Razorpay SDK failed to load. Are you online?"),e.abrupt("return");case 6:return t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:P})},e.next=9,fetch("".concat(Be,"/payment/order"),t);case 9:return n=e.sent,e.next=12,n.json();case 12:r=e.sent,console.log(r),a={key:"rzp_test_qKd2HzzsfeAWn4",amount:r.amount,currency:r.currency,name:"Park It",description:"Test Transaction",order_id:r.id,handler:function(){var e=Object(x.a)(O.a.mark((function e(t){var n,a,c,o,i,l,u,b;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),n={orderCreationId:r.id,razorpayPaymentId:t.razorpay_payment_id,razorpayOrderId:t.razorpay_order_id,razorpaySignature:t.razorpay_signature},a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)},e.next=5,fetch("".concat(Be,"/payment/success"),a);case 5:return c=e.sent,e.next=8,c.json();case 8:if(o=e.sent,console.log("here:",o.msg),"success"!==o.msg){e.next=23;break}return I.b.success("Payment successful!"),i=new Date,l=i.getHours()+":"+i.getMinutes(),u=i.getDate()+"/"+(i.getMonth()+1)+"/"+i.getFullYear(),b={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:R.a.get("email"),parking_lot:z.place_id,entry_time:l+" "+u,vehicle:k,cost:P,status:"booked"})},console.log(b),e.next=19,fetch("".concat(Be,"/payment/booked"),b);case 19:200===e.sent.status?(I.b.success("Booking successful!"),w(""),s("")):I.b.error("Could not book!"),e.next=24;break;case 23:I.b.error("Payment incomplete!");case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),prefill:{name:R.a.get("name"),email:R.a.get("email")},notes:{address:"Park It"},theme:{color:"#61dafb"}},new window.Razorpay(a).open();case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(e){console.log("called!");e.target;var t=e.target.value,n=e.target.name;"vehicleType"===n?s(t):"vehicleNum"===n&&w(t),console.log("event: \n",e.target),"vehicleType"===n&&("bike"===t&&T(H.bike),"car"===t&&T(H.car),"truck"===t&&T(H.truck))}return Object(b.useLayoutEffect)((function(){Y()}),[]),Object(C.jsxs)("body",{style:{background:"rgb(31, 138, 112)"},children:[Object(C.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),Object(C.jsxs)("div",{style:{margin:"auto",width:"30%",padding:"10px",justifyContent:"center",alignItems:"center"},children:[Object(C.jsxs)("div",{children:[Object(C.jsxs)("h1",{children:["The Rate chart of ",U," is:"]}),Object(C.jsxs)(Se,{children:[Object(C.jsxs)(Te,{children:[Object(C.jsx)(Ce,{children:"Vehicle Type "}),Object(C.jsx)(Ce,{children:"Rate Per Hour"})]}),Object(C.jsx)("tbody",{children:Object.entries(H).map((function(e){var t=Object(p.a)(e,2),n=t[0],r=t[1];return console.log(n,r),Object(C.jsxs)(Te,{children:[Object(C.jsx)(Pe,{children:n}),Object(C.jsxs)(Pe,{children:["Rs ",r," per hour"]})]},n)}))})]}),Object(C.jsxs)("h1",{children:["Current Status:",d,"/",f]})]}),Object(C.jsxs)("div",{children:[Object(C.jsxs)("form",{children:[Object(C.jsxs)("label",{children:[Object(C.jsx)("h3",{children:"Please Enter Your vehicle Number:"}),Object(C.jsx)("input",{type:"text",name:"vehicleNum",value:E,onChange:Q})]}),Object(C.jsx)("br",{}),Object(C.jsxs)("label",{children:[Object(C.jsx)("h3",{children:"Please Choose your vehicle type:"}),Object(C.jsxs)("select",{value:i,name:"vehicleType",onChange:Q,children:[Object(C.jsx)("option",{value:"",children:"-- Please Choose your vehicle type--"}),Object(C.jsx)("option",{value:"car",children:"car"}),Object(C.jsx)("option",{value:"bike",children:"bike"}),Object(C.jsx)("option",{value:"truck",children:"truck"})]})]}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsxs)("h1",{children:["You Need To pay ",P," for first hour of booking"]})]}),Object(C.jsx)("button",{onClick:function(){return J.apply(this,arguments)},children:"Proceed to Payment"})]})]})]})},Me=n(17),Ye=n(18),Fe=n(19),Je=n(33),Qe=n(32),qe=g.a.table(Ne||(Ne=Object(h.a)(["\n    font-family: Arial, Helvetica, sans-serif;\n    border-collapse: collapse;\n    width: 100%;\n"]))),Ke=g.a.td(Ee||(Ee=Object(h.a)(["\n    border: 1px solid #ddd;\n    padding: 8px;\n"]))),Ze=g.a.tr(De||(De=Object(h.a)(["\n    border: 1px solid #ddd;\n    padding: 8px;\n    &:hover {\n        background-color: rgb(70, 64, 253);\n      }\n"]))),Ge=g.a.th(ze||(ze=Object(h.a)(["\n    border: 1px solid #ddd;\n    padding-top: 12px;\n    padding-bottom: 12px;\n    padding: 8px;\n    text-align: left;\n    background-color: #4CAF50;\n    color: white;\n"]))),Ve=(g.a.div(Re||(Re=Object(h.a)(["\n    position: absolute;\n    left: 50%;\n    transform: translateX(-50%);\n"]))),g.a.div(Le||(Le=Object(h.a)(["\nmargin-top: 5%;\n"]))),g.a.button(Ie||(Ie=Object(h.a)(["\n  width: 100%;\n  left: 50%;\n  padding: 8px 30%;\n  color: #fff;\n  font-size: 15px;\n  font-weight: 600;\n  border: none;\n  border-radius: 100px 50px 100px 50px;\n  cursor: pointer;\n  transition: all, 240ms ease-in-out;\n  background: ",";\n  background: linear-gradient(\n    58deg,\n    ",",\n    ","\n  );\n\n  &:hover {\n    filter: brightness(1.03);\n  }\n"])),(function(e){return e.enabled?"enabledrgb(70, 64, 253)":"enabledrgb(150, 64, 253)"}),(function(e){return e.enabled?"rgba(70, 64, 253, 1) 20%":"rgba(150, 64, 253, 1) 20%"}),(function(e){return e.enabled?"rgba(70, 64, 253, 1) 100%":"rgba(150, 64, 253, 1) 100%"}))),Xe=(g.a.input(Ue||(Ue=Object(h.a)(["\n  margin-left: 40%;\n  margin-bottom: 10px;\n"]))),n(76),n(45)),We=n(30),_e="https://parkitackend.herokuapp.com",$e={fontFamily:"sans-serif",textAlign:"center",align:"center"},et=function(e){Object(Je.a)(n,e);var t=Object(Qe.a)(n);function n(e){var r;return Object(Me.a)(this,n),(r=t.call(this,e)).onOpenModal=function(){r.setState({open:!0})},r.onCloseModal=function(){r.setState({open:!1,value:0})},r.state={userStatus:null},r.state={open:!1},r.state={value:0},r.statusFetched=!1,r.getHistory=r.getHistory.bind(Object(Fe.a)(r)),r.getabc=r.getabc.bind(Object(Fe.a)(r)),r.getabc(R.a.get("email")),r}return Object(Ye.a)(n,[{key:"getHistory",value:function(){var e=Object(x.a)(O.a.mark((function e(t){var n,r,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.statusFetched){e.next=15;break}return console.log(R.a.get("email"),R.a.get("user_id"),R.a.get("name")),n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t})},console.log(n),e.next=6,fetch("".concat(_e,"/users/get_user_history"),n);case 6:if(r=e.sent,console.log(r),200!==r.status){e.next=14;break}return e.next=11,r.json();case 11:return a=e.sent,console.log(a),e.abrupt("return",a);case 14:this.statusFetched=!1;case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getabc",value:function(){var e=Object(x.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getHistory(t);case 2:n=e.sent,this.setState({userStatus:n}),console.log(this.state.userStatus);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"renderButton",value:function(e){var t=this,n=this.state.open;return Object(C.jsxs)("div",{style:$e,children:[Object(C.jsx)(Ve,{type:"submit",onClick:this.onOpenModal,children:"Rate"}),Object(C.jsxs)(Xe.a,{open:n,onClose:this.onCloseModal,children:[Object(C.jsx)("h2",{style:{padding:"8px"},children:"How Was Your Experience?"}),Object(C.jsx)(We.a,{value:this.state.value,onChange:function(e){return t.setState({value:e})},size:"20px"}),Object(C.jsx)(Ve,{type:"submit",onClick:function(){return t.onClick(e)},style:{marginTop:"14px"},children:"Submit"})]})]})}},{key:"renderTableData",value:function(){var e=this;if(null!=this.state.userStatus)return this.state.userStatus.map((function(t,n){var r=t.vehicle,a=t.parking_lot,c=t.entry_time,o=t.exit_time,i=t.cost,s=t.rating;return Object(C.jsxs)(Ze,{children:[Object(C.jsx)(Ke,{style:{color:"white"},children:R.a.get("email")}),Object(C.jsx)(Ke,{style:{color:"white"},children:r}),Object(C.jsx)(Ke,{style:{color:"white"},children:a}),Object(C.jsx)(Ke,{style:{color:"white"},children:c}),Object(C.jsx)(Ke,{style:{color:"white"},children:o}),Object(C.jsx)(Ke,{style:{color:"white"},children:i}),Object(C.jsx)(Ke,{style:{color:"white"},children:s?Object(C.jsx)(We.a,{value:s,size:"12px"}):e.renderButton(c)})]})}))}},{key:"onClick",value:function(){var e=Object(x.a)(O.a.mark((function e(t){var n,r,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:R.a.get("email"),entry_time:t,rating:this.state.value.toString()})},console.log(n),e.next=4,fetch("".concat(_e,"/users/update_rating"),n);case 4:if(r=e.sent,console.log(r),this.setState({open:!1,value:0}),200!==r.status){e.next=15;break}return e.next=10,r.json();case 10:return a=e.sent,console.log(a),e.next=14,this.getabc(R.a.get("email"));case 14:return e.abrupt("return",a);case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(C.jsxs)(qe,{children:[Object(C.jsxs)(Ze,{children:[Object(C.jsx)(Ge,{style:{color:"white"},children:"Email"}),Object(C.jsx)(Ge,{style:{color:"white"},children:"Vehicle No."}),Object(C.jsx)(Ge,{style:{color:"white"},children:"Parking Lot"}),Object(C.jsx)(Ge,{style:{color:"white"},children:"Entry Time"}),Object(C.jsx)(Ge,{style:{color:"white"},children:"Exit Time"}),Object(C.jsx)(Ge,{style:{color:"white"},children:"Cost"}),Object(C.jsx)(Ge,{style:{color:"white"},children:"Rating"})]}),Object(C.jsx)("tbody",{children:this.renderTableData()})]})}}]),n}(b.Component),tt=function(e){Object(Je.a)(n,e);var t=Object(Qe.a)(n);function n(e){var r;return Object(Me.a)(this,n),r=t.call(this,e),console.log(R.a.get("email")),r}return Object(Ye.a)(n,[{key:"render",value:function(){return Object(C.jsxs)("div",{style:{width:"100vw",height:"100vh",background:"rgb(31, 138, 112)"},children:[Object(C.jsx)("h3",{style:{textAlign:"center"},children:"USER PARKING HISTORY"}),Object(C.jsx)(et,{})]})}}]),n}(b.Component),nt=n(31),rt=n.n(nt);var at,ct=function(){var e=Object(b.useState)(!1),t=Object(p.a)(e,2),n=t[0],r=t[1],a=Object(b.useState)("/"),c=Object(p.a)(a,2),o=c[0],i=c[1],s=Object(b.useContext)(L).authUpdate;Object(b.useEffect)((function(){console.log("Current page: ",o)}),[o]);var l=function(e){r(!n)},u=Object(b.useCallback)((function(){"/map"!==o&&(i("/map"),Object(D.navigate)("/map")),r(!1)}),[]),d=Object(b.useCallback)((function(){"/history"!==o&&(i("/history"),Object(D.navigate)("/history")),r(!1)}),[]),j=Object(b.useCallback)((function(){R.a.clear(),i("/"),Object(D.navigate)("/",!0),s(!1),I.b.success("Logout successful!"),r(!1)}),[]);return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(nt.MenuIcon,{style:{marginLeft:"10px",backgroundColor:"rgba(31, 138, 112, 1)"},onClick:l}),Object(C.jsx)(rt.a,{showNav:n,onHideNav:l,title:"PARK-IT",items:[Object(C.jsx)("a",{name:"home",style:{textDecoration:"none",color:"black"},onClick:u,children:"Home"}),Object(C.jsx)("a",{name:"history",style:{textDecoration:"none",color:"black"},onClick:d,children:"History"}),Object(C.jsx)("a",{name:"logout",style:{textDecoration:"none",color:"black"},onClick:j,children:"LOGOUT"})],titleStyle:{backgroundColor:"rgba(31, 138, 112, 1)"},itemStyle:{backgroundColor:"#fff",listStyleType:"none"},itemHoverStyle:{backgroundColor:"rgba(70, 64, 253, 1)"}})]})},ot=(n(77),{"/":function(){return Object(C.jsx)(it,{children:Object(C.jsx)(ie,{})})},"/map":function(){return Object(C.jsx)(Ae,{})},"/history":function(){return Object(C.jsx)(tt,{})},"/booking":function(){return Object(C.jsx)(He,{})}}),it=g.a.div(at||(at=Object(h.a)(['\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  background-image: url("/images/4.jpg");\n  background-position: center;\n  background-repeat: no-repeat;\n  background-size: cover;\n  align-items: center;\n  justify-content: center;\n'])));var st=function(){var e=Object(b.useState)(!1),t=Object(p.a)(e,2),n=t[0],r=t[1],a=Object(D.usePath)();Object(b.useEffect)((function(){console.log("Sign In State: ",n)}),[n]),Object(b.useEffect)((function(){console.log("Path changed to: ",a)}),[a]);var c={authUpdate:function(e){r(e)}};return Object(C.jsx)(L.Provider,{value:c,children:Object(C.jsxs)("div",{style:{width:"100vw",height:"100vh",background:"rgb(31, 138, 112)"},children:[n&&Object(C.jsx)(ct,{}),Object(D.useRoutes)(ot),Object(C.jsx)(I.a,{})]})})};j.a.render(Object(C.jsx)(st,{}),document.getElementById("root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.d615b93b.chunk.js.map